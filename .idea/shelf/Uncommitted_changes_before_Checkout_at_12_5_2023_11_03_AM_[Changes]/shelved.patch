Index: src/main/webapp/adminPanel/saleoff.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page import=\"me.sjihh.spaservice.Authentication.Customer\" %>\r\n<%@ page import=\"me.sjihh.spaservice.Booking.Booking\" %>\r\n<%@ page import=\"java.util.List\" %>\r\n<%@ page import=\"me.sjihh.spaservice.Booking.BookingDetail\" %>\r\n<%@ page import=\"me.sjihh.spaservice.Database.*\" %>\r\n<%@ page import=\"java.util.Locale\" %>\r\n<%@ page import=\"java.text.DecimalFormatSymbols\" %>\r\n<%@ page import=\"java.text.DecimalFormat\" %>\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <!-- Required meta tags-->\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\r\n    <meta name=\"description\" content=\"au theme template\">\r\n    <meta name=\"author\" content=\"Hau Nguyen\">\r\n    <meta name=\"keywords\" content=\"au theme template\">\r\n\r\n    <!-- Title Page-->\r\n    <title>Dashboard</title>\r\n\r\n    <!-- Fontfaces CSS-->\r\n    <link href=\"css/font-face.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/font-awesome-4.7/css/font-awesome.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/font-awesome-5/css/fontawesome-all.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/mdi-font/css/material-design-iconic-font.min.css\" rel=\"stylesheet\" media=\"all\">\r\n\r\n    <!-- Bootstrap CSS-->\r\n    <link href=\"vendor/bootstrap-4.1/bootstrap.min.css\" rel=\"stylesheet\" media=\"all\">\r\n\r\n    <!-- Vendor CSS-->\r\n    <link href=\"vendor/animsition/animsition.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/wow/animate.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/css-hamburgers/hamburgers.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/slick/slick.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/select2/select2.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/perfect-scrollbar/perfect-scrollbar.css\" rel=\"stylesheet\" media=\"all\">\r\n\r\n    <!-- Main CSS-->\r\n    <link href=\"css/theme.css\" rel=\"stylesheet\" media=\"all\">\r\n\r\n</head>\r\n\r\n<body class=\"animsition\">\r\n    <div class=\"page-wrapper\">\r\n        <!-- HEADER MOBILE-->\r\n\r\n        <!-- MENU SIDEBAR-->\r\n        <aside class=\"menu-sidebar d-none d-lg-block\">\r\n            <div class=\"logo\">\r\n                <a href=\"#\">\r\n                    <img src=\"images/icon/logo.png\" alt=\"Spa Admin\" />\r\n                </a>\r\n            </div>\r\n            <div class=\"menu-sidebar__content js-scrollbar1\">\r\n                <nav class=\"navbar-sidebar\">\r\n                    <ul class=\"list-unstyled navbar__list\">\r\n                        <li class=\"active\">\r\n                            <a href=\"index.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Bookings</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"services.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Services</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"customer.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Customer</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"rooms.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Rooms</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"staff.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Staff</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"preview.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Preview</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"saleoff.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>SaleOff</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"/logout\">\r\n                                <i class=\"fas fa-door-open\"></i>Log out</a>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </aside>\r\n        <!-- END MENU SIDEBAR-->\r\n\r\n        <!-- PAGE CONTAINER-->\r\n        <div class=\"page-container\">\r\n\r\n            <!-- HEADER DESKTOP-->\r\n\r\n            <!-- MAIN CONTENT-->\r\n            <div class=\"main-content\">\r\n                <div class=\"section__content section__content--p30\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"row m-t-25\">\r\n                            <div class=\"col-sm-6 col-lg-3\">\r\n                                <div class=\"overview-item overview-item--c1\">\r\n                                    <div class=\"overview__inner\">\r\n                                        <div class=\"overview-box clearfix\">\r\n                                            <div class=\"icon\">\r\n                                                <i class=\"zmdi zmdi-account-o\"></i>\r\n                                            </div>\r\n                                            <div class=\"text\">\r\n                                                <h2><%=Customer.getAllCustomers().size()%></h2>\r\n                                                <span>members</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"overview-chart\">\r\n                                            <canvas id=\"widgetChart1\"></canvas>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-lg-3\">\r\n                                <div class=\"overview-item overview-item--c2\">\r\n                                    <div class=\"overview__inner\">\r\n                                        <div class=\"overview-box clearfix\">\r\n                                            <div class=\"icon\">\r\n                                                <i class=\"zmdi zmdi-shopping-cart\"></i>\r\n                                            </div>\r\n                                            <div class=\"text\">\r\n                                                <h2><%=PreviewLoader.loadPreviews().size()%></h2>\r\n                                                <span>reviews</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"overview-chart\">\r\n                                            <canvas id=\"widgetChart2\"></canvas>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-lg-3\">\r\n                                <div class=\"overview-item overview-item--c3\">\r\n                                    <div class=\"overview__inner\">\r\n                                        <div class=\"overview-box clearfix\">\r\n                                            <div class=\"icon\">\r\n                                                <i class=\"zmdi zmdi-calendar-note\"></i>\r\n                                            </div>\r\n                                            <div class=\"text\">\r\n                                                <h2><%=Booking.loadBookings().size()%></h2>\r\n                                                <span>bookings</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"overview-chart\">\r\n                                            <canvas id=\"widgetChart3\"></canvas>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-lg-3\">\r\n                                <div class=\"overview-item overview-item--c4\">\r\n                                    <div class=\"overview__inner\">\r\n                                        <div class=\"overview-box clearfix\">\r\n                                            <div class=\"icon\">\r\n                                                <i class=\"zmdi zmdi-money\"></i>\r\n                                            </div>\r\n                                            <div class=\"text\">\r\n                                                <%\r\n                                                    double total = 0;\r\n                                                    DecimalFormat df = new DecimalFormat(\"0\", DecimalFormatSymbols.getInstance(Locale.ENGLISH));\r\n                                                    df.setMaximumFractionDigits(340);\r\n                                                    for (Booking booking : Booking.loadBookings()) {\r\n                                                        total += booking.getTotal();\r\n                                                    }\r\n                                                %>\r\n                                                <h2><%=df.format(total*1000)%></h2>\r\n                                                <span>total earnings</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"overview-chart\">\r\n                                            <canvas id=\"widgetChart4\"></canvas>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Popup panel -->\r\n                        <div id=\"addSaleOffPanel\" style=\"display:none;\">\r\n                            <h3>Add New SaleOff</h3>\r\n\r\n                            <div class=\"card\">\r\n                                <div class=\"card-body card-block\">\r\n                                    <form>\r\n                                        <label>Start Date:</label>\r\n                                        <input class=\"form-control\" type=\"datetime-local\" id=\"saleOffStartDate\">\r\n\r\n                                        <label>End Date:</label>\r\n                                        <input class=\"form-control\" type=\"datetime-local\" id=\"saleOffEndDate\">\r\n\r\n                                        <label>Discount Percent:</label>\r\n                                        <input class=\"form-control\" type=\"number\" id=\"discountPercent\">\r\n\r\n                                        <label>Code:</label>\r\n                                        <input class=\"form-control\" type=\"text\" id=\"discountCode\">\r\n\r\n                                        <br>\r\n\r\n                                        <button class=\"btn\" type=\"button\" onclick=\"addSaleOff()\">Save</button>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Hidden edit popup -->\r\n                        <div id=\"editPopup\" style=\"display:none;\">\r\n                            <h3>Edit Saleoff</h3>\r\n                            <div class=\"card\">\r\n                                <div class=\"card-body card-block\">\r\n                                    <form>\r\n                                        <input type=\"hidden\" id=\"editId\">\r\n                                        <label>Start Date:</label>\r\n                                        <input type=\"datetime-local\" id=\"editStart\">\r\n                                        <label>Finish Date:</label>\r\n                                        <input type=\"datetime-local\" id=\"editFinish\">\r\n                                        <label>Percent:</label>\r\n                                        <input id=\"editPercent\">\r\n                                        <label>Code:</label>\r\n                                        <input id=\"editCode\">\r\n                                        <!-- other fields -->\r\n                                    </form>\r\n                                    <button onclick=\"saveEdit()\">Save</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-6\">\r\n                                <h2 class=\"title-1 m-b-25\">SaleOff</h2>\r\n                            </div>\r\n                            <div class=\"col-lg-6\">\r\n                                <button class=\"btn\" id=\"addSaleOffBtn\">Add New SaleOff</button>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12\">\r\n                                <div class=\"table-responsive table--no-card m-b-40\">\r\n                                    <table class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th>SaleOff ID</th>\r\n                                            <th>Discount Percentage</th>\r\n                                            <th>Discount Code</th>\r\n                                            <th>Start</th>\r\n                                            <th>End</th>\r\n                                            <th>Modify</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        <%\r\n                                            List<SaleOffLoader> saleOffs = SaleOffLoader.loadSaleOffs();\r\n                                            for (SaleOffLoader saleOff : saleOffs) {\r\n                                        %>\r\n                                        <tr>\r\n                                            <td><%= saleOff.getSaleOff_ID() %></td>\r\n                                            <td><%= saleOff.getSaleOff_percent() %></td>\r\n                                            <td><%= saleOff.getSaleOff_code() %></td>\r\n                                            <td><%= saleOff.getSaleOff_start() %></td>\r\n                                            <td><%= saleOff.getSaleOff_finish() %></td>\r\n                                            <td>\r\n                                                <button onclick=\"showEditPopup(<%= saleOff.getSaleOff_ID() %>)\">Edit</button>\r\n                                                |||\r\n                                                <button onclick=\"deleteSaleoff(<%= saleOff.getSaleOff_ID() %>)\">Delete</button>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <%\r\n                                            }\r\n                                        %>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- END MAIN CONTENT-->\r\n            <!-- END PAGE CONTAINER-->\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <!-- Jquery JS-->\r\n    <script src=\"vendor/jquery-3.2.1.min.js\"></script>\r\n    <!-- Bootstrap JS-->\r\n    <script src=\"vendor/bootstrap-4.1/popper.min.js\"></script>\r\n    <script src=\"vendor/bootstrap-4.1/bootstrap.min.js\"></script>\r\n    <!-- Vendor JS       -->\r\n    <script src=\"vendor/slick/slick.min.js\">\r\n    </script>\r\n    <script src=\"vendor/wow/wow.min.js\"></script>\r\n    <script src=\"vendor/animsition/animsition.min.js\"></script>\r\n    <script src=\"vendor/bootstrap-progressbar/bootstrap-progressbar.min.js\">\r\n    </script>\r\n    <script src=\"vendor/counter-up/jquery.waypoints.min.js\"></script>\r\n    <script src=\"vendor/counter-up/jquery.counterup.min.js\">\r\n    </script>\r\n    <script src=\"vendor/circle-progress/circle-progress.min.js\"></script>\r\n    <script src=\"vendor/perfect-scrollbar/perfect-scrollbar.js\"></script>\r\n    <script src=\"vendor/chartjs/Chart.bundle.min.js\"></script>\r\n    <script src=\"vendor/select2/select2.min.js\">\r\n    </script>\r\n\r\n    <!-- Main JS-->\r\n    <script src=\"js/main.js\"></script>\r\n    <script>\r\n        function addSaleOff() {\r\n\r\n            // Get input values\r\n            let start = document.getElementById(\"saleOffStartDate\").value;\r\n            let end = document.getElementById(\"saleOffEndDate\").value;\r\n            let percent = document.getElementById(\"discountPercent\").value;\r\n            let code = document.getElementById(\"discountCode\").value;\r\n\r\n            fetch(\"/AddSaleOff?start=\" + start + \"&end=\" + end + \"&percent=\" + percent + \"&code=\" + code);\r\n\r\n            // Reload page\r\n            window.location.reload();\r\n        }\r\n\r\n        let addSaleOffBtn = document.getElementById(\"addSaleOffBtn\");\r\n        let panel = document.getElementById(\"addSaleOffPanel\");\r\n\r\n        addSaleOffBtn.onclick = function() {\r\n            if (panel.style.display === \"block\") {\r\n                panel.style.display = \"none\";\r\n            }\r\n            else {\r\n                panel.style.display = \"block\";\r\n            }\r\n        }\r\n\r\n        // Global variables\r\n        let selectedSaleoff;\r\n\r\n        function showEditPopup(saleoffId) {\r\n\r\n            // Get saleoff data from API\r\n            fetch(\"/getSaleoff?id=\" + saleoffId)\r\n                .then(res => res.json())\r\n                .then(saleoff => {\r\n                    selectedSaleoff = saleoff;\r\n\r\n                    // Populate values\r\n                    document.getElementById(\"editId\").value = selectedSaleoff.id;\r\n                    document.getElementById(\"editStart\").value = selectedSaleoff.start;\r\n                    document.getElementById(\"editEnd\").value = selectedSaleoff.end;\r\n                    document.getElementById(\"editPercent\").value = selectedSaleoff.percent;\r\n                    document.getElementById(\"editCode\").value = selectedSaleoff.code;\r\n\r\n                    // Show popup\r\n                    document.getElementById(\"editPopup\").style.display = \"block\";\r\n\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n\r\n        }\r\n\r\n        function saveEdit() {\r\n\r\n            // Get updated value\r\n            let updatedSaleoff = {\r\n                id: document.getElementById(\"editId\").value,\r\n                start: document.getElementById(\"editStart\").value,\r\n                end: document.getElementById(\"editEnd\").value,\r\n                percent: document.getElementById(\"editPercent\").value,\r\n                code: document.getElementById(\"editCode\").value\r\n            };\r\n\r\n            // Validate input\r\n\r\n            // Call API to update\r\n            fetch(\"/EditSaleOff\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(updatedSaleoff)\r\n            })\r\n                .then(res => {\r\n                    // Close popup\r\n                    document.getElementById(\"editPopup\").style.display = \"none\";\r\n\r\n                    // Reload page\r\n                    window.location.reload();\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n\r\n        }\r\n\r\n        function deleteSaleoff(saleoffId) {\r\n\r\n            if (confirm(\"Are you sure?\")) {\r\n\r\n                fetch(\"/DeleteSaleOff?id=\" + saleoffId, {\r\n                    method: \"DELETE\"\r\n                })\r\n                    .then(res => {\r\n                        window.location.reload();\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err);\r\n                    })\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n    </script>\r\n\r\n</body>\r\n\r\n</html>\r\n<!-- end document-->\r\n
===================================================================
diff --git a/src/main/webapp/adminPanel/saleoff.jsp b/src/main/webapp/adminPanel/saleoff.jsp
--- a/src/main/webapp/adminPanel/saleoff.jsp	
+++ b/src/main/webapp/adminPanel/saleoff.jsp	
@@ -405,7 +405,6 @@
         }
 
         function deleteSaleoff(saleoffId) {
-
             if (confirm("Are you sure?")) {
 
                 fetch("/DeleteSaleOff?id=" + saleoffId, {
Index: src/main/java/me/sjihh/spaservice/Servlet/Admin/EditSaleOffServlet.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package me.sjihh.spaservice.Servlet.Admin;\r\n\r\nimport me.sjihh.spaservice.Database.SQLConnection;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\n\r\n@WebServlet(\"/EditSaleOff\")\r\npublic class EditSaleOffServlet extends HttpServlet {\r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        \r\n        // Get parameters\r\n        int id = Integer.parseInt(request.getParameter(\"id\"));\r\n        String start = request.getParameter(\"start\"); \r\n        String end = request.getParameter(\"end\");\r\n        int percent = Integer.parseInt(request.getParameter(\"percent\"));\r\n        String code = request.getParameter(\"code\");\r\n\r\n        try {\r\n            Connection conn = SQLConnection.getConnection();\r\n            String sql = \"UPDATE saleoff SET saleOff_start = ?, saleOff_finish = ?, saleOff_percent = ?, saleOff_code = ? WHERE saleOff_ID = ?\";\r\n            \r\n            PreparedStatement statement = conn.prepareStatement(sql);\r\n            statement.setString(1, start); \r\n            statement.setString(2, end);\r\n            statement.setInt(3, percent);\r\n            statement.setString(4, code);\r\n            statement.setInt(5, id);\r\n            \r\n            statement.executeUpdate();\r\n            \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}
===================================================================
diff --git a/src/main/java/me/sjihh/spaservice/Servlet/Admin/EditSaleOffServlet.java b/src/main/java/me/sjihh/spaservice/Servlet/Admin/EditSaleOffServlet.java
--- a/src/main/java/me/sjihh/spaservice/Servlet/Admin/EditSaleOffServlet.java	
+++ b/src/main/java/me/sjihh/spaservice/Servlet/Admin/EditSaleOffServlet.java	
@@ -14,6 +14,10 @@
 @WebServlet("/EditSaleOff")
 public class EditSaleOffServlet extends HttpServlet {
 
+    protected void goGet(HttpServletRequest request, HttpServletResponse response) throws Exception {
+        int id = Integer.parseInt(request.getParameter("id"));
+
+    }
     protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
         
         // Get parameters
Index: src/main/webapp/adminPanel/customer.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page import=\"me.sjihh.spaservice.Authentication.Customer\" %>\r\n<%@ page import=\"me.sjihh.spaservice.Booking.Booking\" %>\r\n<%@ page import=\"java.util.List\" %>\r\n<%@ page import=\"me.sjihh.spaservice.Booking.BookingDetail\" %>\r\n<%@ page import=\"me.sjihh.spaservice.Database.*\" %>\r\n<%@ page import=\"java.util.Locale\" %>\r\n<%@ page import=\"java.text.DecimalFormatSymbols\" %>\r\n<%@ page import=\"java.text.DecimalFormat\" %>\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <!-- Required meta tags-->\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\r\n    <meta name=\"description\" content=\"au theme template\">\r\n    <meta name=\"author\" content=\"Hau Nguyen\">\r\n    <meta name=\"keywords\" content=\"au theme template\">\r\n\r\n    <!-- Title Page-->\r\n    <title>Dashboard</title>\r\n\r\n    <!-- Fontfaces CSS-->\r\n    <link href=\"css/font-face.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/font-awesome-4.7/css/font-awesome.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/font-awesome-5/css/fontawesome-all.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/mdi-font/css/material-design-iconic-font.min.css\" rel=\"stylesheet\" media=\"all\">\r\n\r\n    <!-- Bootstrap CSS-->\r\n    <link href=\"vendor/bootstrap-4.1/bootstrap.min.css\" rel=\"stylesheet\" media=\"all\">\r\n\r\n    <!-- Vendor CSS-->\r\n    <link href=\"vendor/animsition/animsition.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/wow/animate.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/css-hamburgers/hamburgers.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/slick/slick.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/select2/select2.min.css\" rel=\"stylesheet\" media=\"all\">\r\n    <link href=\"vendor/perfect-scrollbar/perfect-scrollbar.css\" rel=\"stylesheet\" media=\"all\">\r\n\r\n    <!-- Main CSS-->\r\n    <link href=\"css/theme.css\" rel=\"stylesheet\" media=\"all\">\r\n\r\n</head>\r\n\r\n<body class=\"animsition\">\r\n    <div class=\"page-wrapper\">\r\n        <!-- HEADER MOBILE-->\r\n\r\n        <!-- MENU SIDEBAR-->\r\n        <aside class=\"menu-sidebar d-none d-lg-block\">\r\n            <div class=\"logo\">\r\n                <a href=\"#\">\r\n                    <img src=\"images/icon/logo.png\" alt=\"Spa Admin\" />\r\n                </a>\r\n            </div>\r\n            <div class=\"menu-sidebar__content js-scrollbar1\">\r\n                <nav class=\"navbar-sidebar\">\r\n                    <ul class=\"list-unstyled navbar__list\">\r\n                        <li class=\"active\">\r\n                            <a href=\"index.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Bookings</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"services.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Services</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"customer.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Customer</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"rooms.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Rooms</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"staff.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Staff</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"preview.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>Preview</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"saleoff.jsp\">\r\n                                <i class=\"fas fa-chart-bar\"></i>SaleOff</a>\r\n                        </li>\r\n                        <li class=\"active\">\r\n                            <a href=\"/logout\">\r\n                                <i class=\"fas fa-door-open\"></i>Log out</a>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </aside>\r\n        <!-- END MENU SIDEBAR-->\r\n\r\n        <!-- PAGE CONTAINER-->\r\n        <div class=\"page-container\">\r\n\r\n            <!-- HEADER DESKTOP-->\r\n\r\n            <!-- MAIN CONTENT-->\r\n            <div class=\"main-content\">\r\n                <div class=\"section__content section__content--p30\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"row m-t-25\">\r\n                            <div class=\"col-sm-6 col-lg-3\">\r\n                                <div class=\"overview-item overview-item--c1\">\r\n                                    <div class=\"overview__inner\">\r\n                                        <div class=\"overview-box clearfix\">\r\n                                            <div class=\"icon\">\r\n                                                <i class=\"zmdi zmdi-account-o\"></i>\r\n                                            </div>\r\n                                            <div class=\"text\">\r\n                                                <h2><%=Customer.getAllCustomers().size()%></h2>\r\n                                                <span>members</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"overview-chart\">\r\n                                            <canvas id=\"widgetChart1\"></canvas>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-lg-3\">\r\n                                <div class=\"overview-item overview-item--c2\">\r\n                                    <div class=\"overview__inner\">\r\n                                        <div class=\"overview-box clearfix\">\r\n                                            <div class=\"icon\">\r\n                                                <i class=\"zmdi zmdi-shopping-cart\"></i>\r\n                                            </div>\r\n                                            <div class=\"text\">\r\n                                                <h2><%=PreviewLoader.loadPreviews().size()%></h2>\r\n                                                <span>reviews</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"overview-chart\">\r\n                                            <canvas id=\"widgetChart2\"></canvas>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-lg-3\">\r\n                                <div class=\"overview-item overview-item--c3\">\r\n                                    <div class=\"overview__inner\">\r\n                                        <div class=\"overview-box clearfix\">\r\n                                            <div class=\"icon\">\r\n                                                <i class=\"zmdi zmdi-calendar-note\"></i>\r\n                                            </div>\r\n                                            <div class=\"text\">\r\n                                                <h2><%=Booking.loadBookings().size()%></h2>\r\n                                                <span>bookings</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"overview-chart\">\r\n                                            <canvas id=\"widgetChart3\"></canvas>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-lg-3\">\r\n                                <div class=\"overview-item overview-item--c4\">\r\n                                    <div class=\"overview__inner\">\r\n                                        <div class=\"overview-box clearfix\">\r\n                                            <div class=\"icon\">\r\n                                                <i class=\"zmdi zmdi-money\"></i>\r\n                                            </div>\r\n                                            <div class=\"text\">\r\n                                                <%\r\n                                                    double total = 0;\r\n                                                    DecimalFormat df = new DecimalFormat(\"0\", DecimalFormatSymbols.getInstance(Locale.ENGLISH));\r\n                                                    df.setMaximumFractionDigits(340);\r\n                                                    for (Booking booking : Booking.loadBookings()) {\r\n                                                        total += booking.getTotal();\r\n                                                    }\r\n                                                %>\r\n                                                <h2><%=df.format(total*1000)%></h2>\r\n                                                <span>total earnings</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"overview-chart\">\r\n                                            <canvas id=\"widgetChart4\"></canvas>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12\">\r\n                                <h2 class=\"title-1 m-b-25\">Previews</h2>\r\n                                <div class=\"table-responsive table--no-card m-b-40\">\r\n                                    <table class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th>Preview ID</th>\r\n                                            <th>Admin ID</th>\r\n                                            <th>Customer ID</th>\r\n                                            <th>Service ID</th>\r\n                                            <th>Comment</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        <%\r\n                                            List<PreviewLoader> previews = PreviewLoader.loadPreviews();\r\n                                            for (PreviewLoader preview : previews) {\r\n                                        %>\r\n                                        <tr>\r\n                                            <td><%= preview.getPreview_ID() %></td>\r\n                                            <td><%= preview.getAdmin_ID() %></td>\r\n                                            <td><%= preview.getCustomer_ID() %></td>\r\n                                            <td><%= preview.getService_ID() %></td>\r\n                                            <td><%= preview.getComment() %></td>\r\n                                        </tr>\r\n                                        <%\r\n                                            }\r\n                                        %>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <h2 class=\"title-1 m-b-25\">Customers</h2>\r\n                                <div class=\"table-responsive table--no-card m-b-40\">\r\n                                    <table class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th>Customer ID</th>\r\n                                            <th>Username</th>\r\n                                            <th>Address</th>\r\n                                            <th>Email</th>\r\n                                            <th>Phone</th>\r\n                                            <th>Level ID</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        <%\r\n                                            List<Customer> customers = Customer.getAllCustomers();\r\n                                            for (Customer customer : customers) {\r\n                                        %>\r\n                                        <tr>\r\n                                            <td><%= customer.getId() %></td>\r\n                                            <td><%= customer.getUsername() %></td>\r\n                                            <td><%= customer.getAddress() %></td>\r\n                                            <td><%= customer.getEmail() %></td>\r\n                                            <td><%= customer.getPhone() %></td>\r\n                                            <td><%= customer.getLevel_id() %></td>\r\n                                        </tr>\r\n                                        <%\r\n                                            }\r\n                                        %>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12\">\r\n                                <h2 class=\"title-1 m-b-25\">Services</h2>\r\n                                <div class=\"table-responsive table--no-card m-b-40\">\r\n                                    <table class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th>Service ID</th>\r\n                                            <th>Admin ID</th>\r\n                                            <th>Service Name</th>\r\n                                            <th>Service Price</th>\r\n                                            <th>Service Time</th>\r\n                                            <th>Service Detail</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        <%\r\n                                            List<ServiceLoader> services = ServiceLoader.loadServices();\r\n                                            for (ServiceLoader service : services) {\r\n                                        %>\r\n                                        <tr>\r\n                                            <td><%= service.getService_ID() %></td>\r\n                                            <td><%= service.getAdmin_ID() %></td>\r\n                                            <td><%= service.getService_name() %></td>\r\n                                            <td><%= service.getService_price() %></td>\r\n                                            <td><%= service.getService_time() %></td>\r\n                                            <td><%= service.getService_detail() %></td>\r\n                                        </tr>\r\n                                        <%\r\n                                            }\r\n                                        %>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12\">\r\n                                <h2 class=\"title-1 m-b-25\">Rooms</h2>\r\n                                <div class=\"table-responsive table--no-card m-b-40\">\r\n                                    <table class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th>Room ID</th>\r\n                                            <th>Room Type</th>\r\n                                            <th>Room Price</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        <%\r\n                                            List<RoomLoader> rooms = RoomLoader.loadRooms();\r\n                                            for (RoomLoader room : rooms) {\r\n                                        %>\r\n                                        <tr>\r\n                                            <td><%= room.getRoom_id() %></td>\r\n                                            <td><%= room.getRoom_type() %></td>\r\n                                            <td><%= room.getRoom_price() %></td>\r\n                                        </tr>\r\n                                        <%\r\n                                            }\r\n                                        %>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <!-- Staff Table -->\r\n                                <h2 class=\"title-1 m-b-25\">Staff</h2>\r\n                                <div class=\"table-responsive table--no-card m-b-40\">\r\n                                    <table class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th>Staff ID</th>\r\n                                            <th>Service ID</th>\r\n                                            <th>Staff Name</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        <%\r\n                                            List<StaffLoader> staffs = StaffLoader.loadStaffs();\r\n                                            for (StaffLoader staff : staffs) {\r\n                                        %>\r\n                                        <tr>\r\n                                            <td><%= staff.getStaff_ID() %></td>\r\n                                            <td><%= staff.getService_ID() %></td>\r\n                                            <td><%= staff.getStaff_name() %></td>\r\n                                        </tr>\r\n                                        <%\r\n                                            }\r\n                                        %>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-12\">\r\n                                <h2 class=\"title-1 m-b-25\">SaleOff</h2>\r\n                                <div class=\"table-responsive table--no-card m-b-40\">\r\n                                    <table class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th>SaleOff ID</th>\r\n                                            <th>Discount Percentage</th>\r\n                                            <th>Discount Code</th>\r\n                                            <th>Start</th>\r\n                                            <th>End</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        <%\r\n                                            List<SaleOffLoader> saleOffs = SaleOffLoader.loadSaleOffs();\r\n                                            for (SaleOffLoader saleOff : saleOffs) {\r\n                                        %>\r\n                                        <tr>\r\n                                            <td><%= saleOff.getSaleOff_ID() %></td>\r\n                                            <td><%= saleOff.getSaleOff_percent() %></td>\r\n                                            <td><%= saleOff.getSaleOff_code() %></td>\r\n                                            <td><%= saleOff.getSaleOff_start() %></td>\r\n                                            <td><%= saleOff.getSaleOff_finish() %></td>\r\n                                        </tr>\r\n                                        <%\r\n                                            }\r\n                                        %>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- END MAIN CONTENT-->\r\n            <!-- END PAGE CONTAINER-->\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <!-- Jquery JS-->\r\n    <script src=\"vendor/jquery-3.2.1.min.js\"></script>\r\n    <!-- Bootstrap JS-->\r\n    <script src=\"vendor/bootstrap-4.1/popper.min.js\"></script>\r\n    <script src=\"vendor/bootstrap-4.1/bootstrap.min.js\"></script>\r\n    <!-- Vendor JS       -->\r\n    <script src=\"vendor/slick/slick.min.js\">\r\n    </script>\r\n    <script src=\"vendor/wow/wow.min.js\"></script>\r\n    <script src=\"vendor/animsition/animsition.min.js\"></script>\r\n    <script src=\"vendor/bootstrap-progressbar/bootstrap-progressbar.min.js\">\r\n    </script>\r\n    <script src=\"vendor/counter-up/jquery.waypoints.min.js\"></script>\r\n    <script src=\"vendor/counter-up/jquery.counterup.min.js\">\r\n    </script>\r\n    <script src=\"vendor/circle-progress/circle-progress.min.js\"></script>\r\n    <script src=\"vendor/perfect-scrollbar/perfect-scrollbar.js\"></script>\r\n    <script src=\"vendor/chartjs/Chart.bundle.min.js\"></script>\r\n    <script src=\"vendor/select2/select2.min.js\">\r\n    </script>\r\n\r\n    <!-- Main JS-->\r\n    <script src=\"js/main.js\"></script>\r\n\r\n</body>\r\n\r\n</html>\r\n<!-- end document-->\r\n
===================================================================
diff --git a/src/main/webapp/adminPanel/customer.jsp b/src/main/webapp/adminPanel/customer.jsp
--- a/src/main/webapp/adminPanel/customer.jsp	
+++ b/src/main/webapp/adminPanel/customer.jsp	
@@ -187,73 +187,6 @@
                             </div>
                         </div>
 
-                        <div class="row">
-                            <div class="col-lg-12">
-                                <h2 class="title-1 m-b-25">Previews</h2>
-                                <div class="table-responsive table--no-card m-b-40">
-                                    <table class="table table-borderless table-striped table-earning">
-                                        <thead>
-                                        <tr>
-                                            <th>Preview ID</th>
-                                            <th>Admin ID</th>
-                                            <th>Customer ID</th>
-                                            <th>Service ID</th>
-                                            <th>Comment</th>
-                                        </tr>
-                                        </thead>
-                                        <tbody>
-                                        <%
-                                            List<PreviewLoader> previews = PreviewLoader.loadPreviews();
-                                            for (PreviewLoader preview : previews) {
-                                        %>
-                                        <tr>
-                                            <td><%= preview.getPreview_ID() %></td>
-                                            <td><%= preview.getAdmin_ID() %></td>
-                                            <td><%= preview.getCustomer_ID() %></td>
-                                            <td><%= preview.getService_ID() %></td>
-                                            <td><%= preview.getComment() %></td>
-                                        </tr>
-                                        <%
-                                            }
-                                        %>
-                                        </tbody>
-                                    </table>
-                                </div>
-                                <h2 class="title-1 m-b-25">Customers</h2>
-                                <div class="table-responsive table--no-card m-b-40">
-                                    <table class="table table-borderless table-striped table-earning">
-                                        <thead>
-                                        <tr>
-                                            <th>Customer ID</th>
-                                            <th>Username</th>
-                                            <th>Address</th>
-                                            <th>Email</th>
-                                            <th>Phone</th>
-                                            <th>Level ID</th>
-                                        </tr>
-                                        </thead>
-                                        <tbody>
-                                        <%
-                                            List<Customer> customers = Customer.getAllCustomers();
-                                            for (Customer customer : customers) {
-                                        %>
-                                        <tr>
-                                            <td><%= customer.getId() %></td>
-                                            <td><%= customer.getUsername() %></td>
-                                            <td><%= customer.getAddress() %></td>
-                                            <td><%= customer.getEmail() %></td>
-                                            <td><%= customer.getPhone() %></td>
-                                            <td><%= customer.getLevel_id() %></td>
-                                        </tr>
-                                        <%
-                                            }
-                                        %>
-                                        </tbody>
-                                    </table>
-                                </div>
-                            </div>
-                        </div>
-
                         <div class="row">
                             <div class="col-lg-12">
                                 <h2 class="title-1 m-b-25">Services</h2>
Index: src/main/java/me/sjihh/spaservice/Email/EmailSender.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package me.sjihh.spaservice.Email;\r\n\r\nimport me.sjihh.spaservice.Booking.Booking;\r\nimport me.sjihh.spaservice.Booking.BookingDetail;\r\nimport me.sjihh.spaservice.Database.RoomLoader;\r\nimport me.sjihh.spaservice.Database.ServiceLoader;\r\n\r\nimport javax.mail.*;\r\nimport javax.mail.internet.InternetAddress;\r\nimport javax.mail.internet.MimeMessage;\r\nimport java.util.List;\r\nimport java.util.Properties;\r\n\r\npublic class EmailSender {\r\n    private static final String FROM_EMAIL = \"serverwonderlandvn@gmail.com\";\r\n    private static final String EMAIL_PASSWORD = \"gtto buuu tnoe flcp\";\r\n\r\n\r\n    public static void sendForgetPasswordEmail(String to, String newPassword) {\r\n        String subject = \"Luxury Spa - Password Reset\";\r\n        String body = \"Dear \"+ to +\",\\n\\n\"\r\n                + \"We hope this message finds you well.\\n\\n\"\r\n                + \"As part of our commitment to security and privacy, we have processed your request to reset your password. Below, you will find your new login credentials:\\n\\n\"\r\n                + \"New Password: \" + newPassword + \"\\n\\n\"\r\n                + \"For your security, please log in with your new password at your earliest convenience and consider changing it to a personalized password of your choice.\\n\\n\"\r\n                + \"If you did not initiate this password reset or have any concerns, please contact our support team immediately.\\n\\n\"\r\n                + \"Thank you for choosing Luxury Spa.\\n\\n\"\r\n                + \"Best regards,\\n\"\r\n                + \"Luxury Spa Team\";\r\n        sendEmail(to, subject, body);\r\n\r\n    }\r\n\r\n    public static void sendRegistrationConfirmationEmail(String to, String username) {\r\n        String subject = \"Registration Confirmation\";\r\n        String body = \"Dear \"+ username +\",\\n\\n\"\r\n                + \"Thank you for registering with our service. We are delighted to welcome you to our community!\\n\\n\"\r\n                + \"You are now part of Luxury Spa Team. Here are a few things you can do:\\n\"\r\n                + \"- Explore our features and services\\n\"\r\n                + \"- Connect with other users\\n\"\r\n                + \"- Customize your profile settings\\n\\n\"\r\n                + \"If you have any questions or need assistance, feel free to reach out to our support team.\\n\\n\"\r\n                + \"Once again, welcome aboard!\\n\\n\"\r\n                + \"Best regards,\\n\"\r\n                + \"Luxury Spa Team\";\r\n\r\n        sendEmail(to, subject, body);\r\n    }\r\n\r\n    public static void sendBookingConfirmationEmail(String to, Booking booking, List<BookingDetail> bookingDetails) {\r\n        String subject = \"Luxury Spa Booking Confirmation\";\r\n\r\n        // Create a StringBuilder to construct the email body\r\n        StringBuilder body = new StringBuilder();\r\n        body.append(\"Dear valued customer,\\n\\n\");\r\n        body.append(\"Thank you for choosing Luxury Spa for your relaxation needs.\\n\\n\");\r\n\r\n        // Include booking details\r\n        body.append(\"Booking Details:\\n\");\r\n        body.append(\"Booking ID: \").append(booking.getBooking_ID()).append(\"\\n\");\r\n        body.append(\"Booking Date: \").append(booking.getBooking_date()).append(\"\\n\");\r\n        body.append(\"Total Amount: $\").append(booking.getTotal()).append(\"\\n\\n\");\r\n\r\n        // Include booking details (services, rooms, staff, etc.)\r\n        body.append(\"Booking Items:\\n\");\r\n        for (BookingDetail bookingDetail : bookingDetails) {\r\n            body.append(\"- Service: \").append(getServiceName(bookingDetail.getService_ID())).append(\"\\n\");\r\n            body.append(\"- Room: \").append(getRoomType(bookingDetail.getRoom_ID())).append(\"\\n\");\r\n            // Include more details as needed\r\n            body.append(\"\\n\");\r\n        }\r\n\r\n        body.append(\"Thank you for choosing Luxury Spa. We look forward to serving you!\\n\\n\");\r\n        body.append(\"Best regards,\\n\");\r\n        body.append(\"Luxury Spa Team\");\r\n\r\n        // Call the sendEmail method with the constructed subject and body\r\n        sendEmail(to, subject, body.toString());\r\n    }\r\n\r\n    // Additional methods to retrieve details from the database\r\n    private static String getServiceName(int serviceID) {\r\n        try {\r\n            List<ServiceLoader> services = ServiceLoader.loadServices();\r\n            for (ServiceLoader service : services) {\r\n                if (service.getService_ID() == serviceID) {\r\n                    return service.getService_name();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return \"Service Not Found\";\r\n    }\r\n\r\n    private static String getRoomType(int roomID) {\r\n        try {\r\n            List<RoomLoader> rooms = RoomLoader.loadRooms();\r\n            for (RoomLoader room : rooms) {\r\n                if (room.getRoom_id() == roomID) {\r\n                    return room.getRoom_type();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return \"Room Not Found\";\r\n    }\r\n\r\n\r\n\r\n    private static void sendEmail(String to, String subject, String body) {\r\n        Properties properties = new Properties();\r\n        properties.put(\"mail.smtp.auth\", \"true\");\r\n        properties.put(\"mail.smtp.starttls.enable\", \"true\");\r\n        properties.put(\"mail.smtp.host\", \"smtp.gmail.com\");\r\n        properties.put(\"mail.smtp.port\", \"587\");\r\n\r\n        Session session = Session.getInstance(properties, new Authenticator() {\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(FROM_EMAIL, EMAIL_PASSWORD);\r\n            }\r\n        });\r\n\r\n        try {\r\n            Message message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(FROM_EMAIL));\r\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(to));\r\n            message.setSubject(subject);\r\n            message.setText(body);\r\n\r\n            Transport.send(message);\r\n\r\n            System.out.println(\"Email sent successfully!\");\r\n\r\n        } catch (MessagingException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n
===================================================================
diff --git a/src/main/java/me/sjihh/spaservice/Email/EmailSender.java b/src/main/java/me/sjihh/spaservice/Email/EmailSender.java
--- a/src/main/java/me/sjihh/spaservice/Email/EmailSender.java	
+++ b/src/main/java/me/sjihh/spaservice/Email/EmailSender.java	
@@ -1,5 +1,6 @@
 package me.sjihh.spaservice.Email;
 
+import me.sjihh.spaservice.Authentication.Customer;
 import me.sjihh.spaservice.Booking.Booking;
 import me.sjihh.spaservice.Booking.BookingDetail;
 import me.sjihh.spaservice.Database.RoomLoader;
@@ -52,7 +53,7 @@
 
         // Create a StringBuilder to construct the email body
         StringBuilder body = new StringBuilder();
-        body.append("Dear valued customer,\n\n");
+        body.append("Dear " + Customer.getUserById(booking.getCustomer_ID()) + ",\n\n");
         body.append("Thank you for choosing Luxury Spa for your relaxation needs.\n\n");
 
         // Include booking details
@@ -65,7 +66,7 @@
         body.append("Booking Items:\n");
         for (BookingDetail bookingDetail : bookingDetails) {
             body.append("- Service: ").append(getServiceName(bookingDetail.getService_ID())).append("\n");
-            body.append("- Room: ").append(getRoomType(bookingDetail.getRoom_ID())).append("\n");
+            body.append("- Room: ").append(getRoomType(bookingDetail.getRoom_ID()-1)).append("\n");
             // Include more details as needed
             body.append("\n");
         }
